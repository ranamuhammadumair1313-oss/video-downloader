<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fixed Video Downloader</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #121212; color: white; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .card { background: #1e1e1e; padding: 30px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); text-align: center; width: 90%; max-width: 400px; border: 1px solid #333; }
        h2 { color: #ff4757; margin-bottom: 5px; }
        p { color: #ccc; font-size: 14px; }
        input { width: 100%; padding: 12px; margin: 20px 0; border: 1px solid #444; border-radius: 8px; background: #252525; color: white; outline: none; box-sizing: border-box; }
        .btn-group { display: flex; flex-direction: column; gap: 12px; }
        button { padding: 14px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; font-size: 15px; transition: 0.3s; }
        .btn-y2 { background: #ff4757; color: white; }
        .btn-ss { background: #2ed573; color: white; }
        button:hover { opacity: 0.9; transform: translateY(-2px); }
        .footer-note { font-size: 11px; color: #777; margin-top: 20px; line-height: 1.4; }
    </style>
</head>
<body>

<div class="card">
    <h2>YT Downloader</h2>
    <p>Paste video link below</p>
    
    <input type="text" id="videoUrl" placeholder="https://www.youtube.com/watch?v=...">

    <div class="btn-group">
        <button class="btn-y2" onclick="processVideo('y2mate')">Download Server 1</button>
        <button class="btn-ss" onclick="processVideo('savefrom')">Download Server 2</button>
    </div>

    <p class="footer-note">
        <b>Tip:</b> Agar 404 aaye, to link se <i>&list=...</i> wala hissa mita kar try karein ya Server 2 use karein.
    </p>
</div>

<script>
    function extractVideoId(url) {
        // Ye function link se sirf Video ID nikalega (Playlist extra params hata dega)
        const regex = /(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/;
        const match = url.match(regex);
        return (match && match[1]) ? match[1] : null;
    }

    function processVideo(server) {
        const rawUrl = document.getElementById('videoUrl').value;
        const videoId = extractVideoId(rawUrl);
        
        if (!videoId) {
            alert("Please enter a valid YouTube link!");
            return;
        }

        const cleanUrl = "https://www.youtube.com/watch?v=" + videoId;
        let finalUrl = "";

        if (server === 'y2mate') {
            // Y2Mate ka naya stable format
            finalUrl = "https://www.y2mate.com/youtube/" + videoId;
        } 
        else if (server === 'savefrom') {
            // SaveFrom (ss method)
            finalUrl = "https://ssyoutube.com/watch?v=" + videoId;
        }

        window.open(finalUrl, '_blank');
    }
</script>

</body>
</html>
